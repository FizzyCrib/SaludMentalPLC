<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Test Clínico de Balance Emocional</title>
<style>
    body {
        font-family: 'Inter', sans-serif;
        background: #DFF2FF;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        min-height: 100vh;
        color: #0E385B;
    }

    .wrapper {
        background: white;
        width: 92%;
        max-width: 880px;
        margin-top: 40px;
        padding: 35px;
        border-radius: 22px;
        border: 2px solid #A3D8FF;
        box-shadow: 0 6px 22px rgba(0,0,0,0.08);
    }

    h1 {
        text-align: center;
        color: #0C75C8;
        font-size: 30px;
        margin-bottom: 30px;
        font-weight: 800;
    }

    .block {
        background: #EFF8FF;
        border-radius: 14px;
        padding: 18px 20px;
        margin-bottom: 22px;
        border-left: 6px solid #6EC3FF;
    }

    label {
        display: block;
        padding: 6px 0;
        cursor: pointer;
    }

    button {
        width: 100%;
        padding: 15px;
        background:#56B7FF;
        border-radius: 14px;
        border: none;
        font-size: 18px;
        color: white;
        cursor: pointer;
        transition: .3s;
    }

    button:hover {
        background:#3FA7F4;
    }

    #resultado {
        margin-top: 30px;
        padding: 25px;
        background: #F4FAFF;
        border-radius: 16px;
        border: 2px solid #BDE5FF;
    }

    canvas {
        margin-top: 20px;
        max-height: 320px;
        width: 100% !important;
    }
</style>
</head>
<body>
<div class="wrapper">
<h1>Evaluación Clínica de Balance Emocional</h1>

<form id="formTest">

<div class="block">
<strong>1. ¿Cómo describirías tu claridad mental hoy?</strong>
<label><input type="radio" name="q1" value="ansiedad"> Nublada y acelerada</label>
<label><input type="radio" name="q1" value="depresion"> Lenta y pesada</label>
<label><input type="radio" name="q1" value="tdah"> Dispersa</label>
<label><input type="radio" name="q1" value="normal"> Clara</label>
</div>

<div class="block">
<strong>2. ¿Qué tan fácil te es mantener hábitos o rutinas?</strong>
<label><input type="radio" name="q2" value="tdah"> Complicado</label>
<label><input type="radio" name="q2" value="estres"> A veces difícil</label>
<label><input type="radio" name="q2" value="normal"> Bastante fácil</label>
</div>

<div class="block">
<strong>3. ¿Tus emociones cambian con rapidez?</strong>
<label><input type="radio" name="q3" value="bipolaridad"> Mucho</label>
<label><input type="radio" name="q3" value="tlp"> Muy intensas</label>
<label><input type="radio" name="q3" value="normal"> No tanto</label>
</div>

<div class="block">
<strong>4. ¿Qué tan presente está la preocupación en tu día?</strong>
<label><input type="radio" name="q4" value="ansiedad"> Demasiado</label>
<label><input type="radio" name="q4" value="toc"> Se vuelve repetitiva</label>
<label><input type="radio" name="q4" value="normal"> Poco</label>
</div>

<div class="block">
<strong>5. ¿Evitas ciertas actividades por sensaciones incómodas?</strong>
<label><input type="radio" name="q5" value="fobia"> Sí, por miedo</label>
<label><input type="radio" name="q5" value="tept"> Sí, por recuerdos</label>
<label><input type="radio" name="q5" value="normal"> No</label>
</div>

<div class="block">
<strong>6. ¿Cómo calificas tu conexión emocional con otros?</strong>
<label><input type="radio" name="q6" value="tlp"> Muy inestable</label>
<label><input type="radio" name="q6" value="depresion"> Me cuesta conectar</label>
<label><input type="radio" name="q6" value="normal"> Estable</label>
</div>

<div class="block">
<strong>7. ¿Cómo manejas el estrés en situaciones inesperadas?</strong>
<label><input type="radio" name="q7" value="estres"> Me afecta mucho</label>
<label><input type="radio" name="q7" value="ansiedad"> Me pongo tenso</label>
<label><input type="radio" name="q7" value="normal"> Lo manejo bien</label>
</div>

<div class="block">
<strong>8. ¿Notas pensamientos repetitivos difíciles de detener?</strong>
<label><input type="radio" name="q8" value="toc"> Sí bastante</label>
<label><input type="radio" name="q8" value="ansiedad"> Algunos</label>
<label><input type="radio" name="q8" value="normal"> No mucho</label>
</div>

<div class="block">
<strong>9. ¿Cómo describirías tu regulación emocional?</strong>
<label><input type="radio" name="q9" value="bipolaridad"> Cambios drásticos</label>
<label><input type="radio" name="q9" value="tlp"> Muy complicada</label>
<label><input type="radio" name="q9" value="normal"> Sólida</label>
</div>

<div class="block">
<strong>10. ¿Cuánta tensión física o mental sientes diariamente?</strong>
<label><input type="radio" name="q10" value="estres"> Alta</label>
<label><input type="radio" name="q10" value="ansiedad"> Moderada</label>
<label><input type="radio" name="q10" value="normal"> Baja</label>
</div>

<button type="button" onclick="procesar()">Generar Informe</button>
</form>

<div id="resultado"></div>
<canvas id="grafica"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function procesar() {
    const data = new FormData(document.getElementById("formTest"));
    const count = {};

    for (let v of data.values()) count[v] = (count[v] || 0) + 1;

    let max = null;
    for (let k in count) if (!max || count[k] > count[max]) max = k;

    const textos = {
        ansiedad: "Podrías estar presentando exceso de tensión y preocupación.",
        depresion: "Podrías estar sintiendo baja energía o desconexión emocional.",
        tdah: "La concentración y la constancia podrían ser un reto.",
        estres: "Tu cuerpo parece estar respondiendo a presión constante.",
        toc: "Los pensamientos repetitivos podrían ocupar espacio mental.",
        tept: "Algunas memorias difíciles podrían seguir afectándote.",
        fobia: "Ciertos miedos podrían limitar actividades.",
        bipolaridad: "Cambios intensos de estado anímico pueden estar presentes.",
        tlp: "Las emociones podrían sentirse extremas o difíciles de regular.",
        normal: "Tu estado general se percibe estable y equilibrado."
    };

    document.getElementById("resultado").innerHTML = `
        <h2>Resultado principal: <strong>${max.toUpperCase()}</strong></h2>
        <p>${textos[max]}</p>
    `;

    new Chart(document.getElementById("grafica"), {
        type: "radar",
        data: {
            labels: Object.keys(count),
            datasets: [{
                data: Object.values(count),
                borderWidth: 2,
                fill: false,
            }]
        },
        options: {
            scales: { r: { beginAtZero: true } },
            plugins: { legend: { display: false } }
        }
    });
}
</script>
</body>
</html>
